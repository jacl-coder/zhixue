# 智学奇境 - 开发快速启动指南

---

## 1. 环境准备 (一次性)

确保已安装 Go, Python, PostgreSQL 和 Redis。您可以使用项目提供的脚本一键完成环境搭建：

```bash
# (可选) 使用脚本自动安装所有依赖
bash ubuntu-server-setup.sh
```

首次拉取代码后，请安装项目依赖：

```bash
# 安装Go后端依赖
cd backend && go mod tidy && cd ..

# 安装Python AI服务依赖
cd ai-service && pip install -r requirements.txt && cd ..
```

---

## 2. 数据库初始化 (一次性)

在首次启动服务前，请初始化数据库。此脚本将创建数据库、用户并导入表结构。

```bash
# 运行数据库初始化脚本
bash database/init_db.sh
```

---

## 3. 日常开发流程

项目的所有核心操作都已脚本化，请使用以下命令管理服务。

### 启动服务

使用 `start.sh` 脚本来启动全部或指定的服务。

```bash
# 启动所有服务 (后端API, 游戏服务器, AI服务)
bash start.sh

# 只启动AI服务
bash start.sh ai

# 只启动后端API服务
bash start.sh backend
```

### 停止服务

使用 `stop.sh` 脚本来停止服务。

```bash
# 停止所有服务
bash stop.sh

# 只停止AI服务
bash stop.sh ai
```

### 日志管理

使用 `log_manager.sh` 脚本可以方便地查看、监控和管理日志。

```bash
# 实时查看后端日志
bash log_manager.sh tail -s backend

# 查看AI服务最近200行日志
bash log_manager.sh view -s ai -n 200

# 清理旧的日志归档文件
bash log_manager.sh clean
```
